@using X.PagedList.Mvc.Core;
@using X.PagedList;


@model IEnumerable<StoreFront.DATA.EF.Models.Item>





@{
    ViewData["Title"] = "Index";
}


@if (User.IsInRole("Admin"))
{

    <div class="container">
        <center class="text-center mt-3">
            <a class="text-light btn btn-mute w-25" asp-action="Create">Create New Item</a>
        </center>
    </div>

}



<br />
<br />
<center class="th">
    <table class="table text-light col-md-6 ">
        <thead class="th">

            <tr>

                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.RequiredLevel)
                </th>
                @*   <th>
                @Html.DisplayNameFor(model => model.MaxStackSize)
                </th>
                <th>
                @Html.DisplayNameFor(model => model.IsUnique)
                </th>
                <th>
                @Html.DisplayNameFor(model => model.IsSetItem)
                </th>
                <th>
                @Html.DisplayNameFor(model => model.IsSocketed)
                </th>
                <th>
                @Html.DisplayNameFor(model => model.Rarity)
                </th> *@
                <th>
                    @Html.DisplayNameFor(model => model.ItemsInStock)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Price)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ItemCategory)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ItemType)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Server)
                </th>
                  @if (User.IsInRole("Admin"))
                {
                    <th></th>
                }

                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <a asp-action="Details" class="text-warning h3" asp-route-id="@item.ItemId">
                            @Html.DisplayFor(modelItem => item.Name)
                        </a>
                    </td>
                    @* <td>
                @Html.DisplayFor(modelItem => item.Name)
                </td> *@
                    <td>
                        @Html.DisplayFor(modelItem => item.RequiredLevel)
                    </td>
                    @*  <td>
                @Html.DisplayFor(modelItem => item.MaxStackSize)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.IsUnique)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.IsSetItem)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.IsSocketed)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.Rarity)
                </td> *@
                    <td>
                        @Html.DisplayFor(modelItem => item.ItemsInStock)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Price)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ItemCategory.CategoryName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ItemType.ItemTypeName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Server.ModeName)
                    </td>
                  
                    @if (User.IsInRole("Admin"))
                    {
                        <td class="text-light">
                            <a class="text-light" asp-action="Edit" asp-route-id="@item.ItemId">Edit</a> |
                            <a class="text-light" asp-action="Details" asp-route-id="@item.ItemId">Details</a> |
                            <a class="text-light" asp-action="Delete" asp-route-id="@item.ItemId">Delete</a>
                        </td>
                    }
                    <td class="options">
                        <button class="btn btn-secondary">
                            <a asp-action="AddToCart" asp-controller="ShoppingCart" asp-route-id="@item.ItemId" class="option2" id="buttonCart">
                                Add To Cart
                            </a>
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</center>

@section Scripts{
    <script>
        //let table = new DataTable('table');
        $(document).ready(function () {
            $('table').DataTable();
        });
    </script>

}

